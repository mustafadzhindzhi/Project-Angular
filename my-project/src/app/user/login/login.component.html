<div class="parent">
  <div class="container" [ngClass]="isSignDivVisiable ? 'active' : ''" id="container">
    <div class="form-container sign-up">
      <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
        <h1>Create Account</h1>
        <div class="social-icons">
          <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
          <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
          <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
          <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
        </div>
        <span>or use your email for registration</span>
        <input type="text" name="username" placeholder="Username" formControlName="username">
        <ng-container *ngIf="registerForm.controls['username']">
          <p *ngIf="registerForm.controls['username'].invalid && registerForm.controls['username'].touched">
            <span *ngIf="registerForm.controls['username'].errors?.['required']">Username is required</span>
            <span *ngIf="registerForm.controls['username'].errors?.['minlength']">Username should be at least 2
              characters long</span>
            <span *ngIf="registerForm.controls['username'].errors?.['pattern']">Username must contain only alphanumeric
              characters</span>
          </p>
        </ng-container>
        <input type="email" name="email" formControlName="email" placeholder="Email">
        <ng-container *ngIf="registerForm.controls['email']">
          <p *ngIf="registerForm.controls['email'].invalid && registerForm.controls['email'].touched">
            <span *ngIf="registerForm.controls['email'].errors?.['required']">Email is required</span>
            <span *ngIf="registerForm.controls['email'].errors?.['email']">Invalid email format</span>
          </p>
        </ng-container>
        <input type="file" name="image" (change)="onImageSelected($event)" accept="image/*">
        <div *ngIf="selectedImage" class="image-preview">
          <img [src]="imageSrc" alt="Preview">
        </div>
        <input type="tel" formControlName="tel" placeholder="Tel" maxlength="10">
        <ng-container *ngIf="registerForm.controls['tel']">
          <p *ngIf="registerForm.controls['tel'].invalid && registerForm.controls['tel'].touched">
            <span *ngIf="registerForm.controls['tel'].errors?.['required']">Telephone is required</span>
          </p>
        </ng-container>
        <input type="password" name="password" formControlName="password" placeholder="Password"
          autocomplete="password">
        <ng-container *ngIf="registerForm.controls['password']">
          <p *ngIf="registerForm.controls['password'].invalid && registerForm.controls['password'].touched">
            <span *ngIf="registerForm.controls['password'].errors?.['required']">Password is required</span><br>
            <span *ngIf="registerForm.controls['password'].errors?.['minlength']">Password should be at least 8
              characters long</span><br>
            <span *ngIf="registerForm.controls['password'].errors?.['invalidPassword']">Password must contain at least
              one lowercase letter, one uppercase letter, one numeric digit, and one special character</span>
          </p>
        </ng-container>

        <input type="password" name="rePassword" formControlName="rePassword" placeholder="Confirm Password"
          autocomplete="password">
        <ng-container
          *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.value && registerForm.hasError('mismatch')">
          <p>Passwords do not match</p>
        </ng-container>
        <button [disabled]="registerForm.invalid">Sign Up</button>
      </form>
    </div>
    <div class="form-container sign-in">
      <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
        <h1>Sign In</h1>
        <div class="social-icons">
          <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
          <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
          <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
          <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
        </div>
        <span>or use your email and password</span>
        <input type="email" name="email" formControlName="email" placeholder="Email">
        <ng-container *ngIf="loginForm.controls['email']">
          <p *ngIf="loginForm.controls['email'].invalid && loginForm.controls['email'].touched">
            <span *ngIf="loginForm.controls['email'].errors?.['required']">Email is required</span>
            <span *ngIf="loginForm.controls['email'].errors?.['email']">Invalid email format</span>
          </p>
        </ng-container>
    
        <input type="password" name="password" formControlName="password" placeholder="Password" autocomplete="password">
        <ng-container *ngIf="loginForm.controls['password']">
          <p *ngIf="loginForm.controls['password'].invalid && loginForm.controls['password'].touched">
            <span *ngIf="loginForm.controls['password'].errors?.['required']">Password is required</span>
          </p>
        </ng-container>
    
        <a href="#">→ Forget Your Password? ←</a>
        <button [disabled]="loginForm.invalid">Sign In</button>
      </form>
    </div>
    

    <div class="toggle-container">
      <div class="toggle">
        <div class="toggle-panel toggle-left">
          <h1>Welcome Back!</h1>
          <p>Enter your personal details to use all of site features</p>
          <button type="button" class="hidden" id="login" (click)="isSignDivVisiable = false">Sign In</button>
        </div>
        <div class="toggle-panel toggle-right">
          <h1>Hello, Friend!</h1>
          <p>Register with your personal details to use all of site features</p>
          <button type="button" class="hidden" id="register" (click)="isSignDivVisiable = true">Sign Up</button>
        </div>
      </div>
    </div>
  </div>
</div>
